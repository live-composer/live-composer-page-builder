jQuery(document).ready(function(){jQuery("#lc_caching_engine").after(' <a href="#" class="dslc-clear-cache" onclick="dslc_clear_cache(event)"><span class="dashicons dashicons-trash"></span> clear cache</a>');function a(a){var b,c=jQuery(".dslca-plugin-opts-list-code",a),d="",e=false;var f=[];jQuery(".dslca-plugin-opts-list-item",a).each(function(){if(jQuery.inArray(jQuery(this).find(".dslca-plugin-opts-list-title").text(),f)!==-1){e=true}else{f.push(jQuery(this).find(".dslca-plugin-opts-list-title").text())}});if(e){jQuery(".dslca-plugin-opts-list-error").show()}else{jQuery(".dslca-plugin-opts-list-error").hide()}jQuery(".dslca-plugin-opts-list-item",a).each(function(){b=jQuery(this).find(".dslca-plugin-opts-list-title").text();b=b.replace(/([^a-z0-9 ]+)/gi,"");jQuery(this).find(".dslca-plugin-opts-list-title").text(b);d+=b.trim()+","});c.val(d)}jQuery(".dslca-plugin-opts-list-add-hook").click(function(b){b.preventDefault();var c=jQuery(this).closest(".dslca-plugin-opts-list-wrap");var d=c.find(".dslca-plugin-opts-list");jQuery('<div class="dslca-plugin-opts-list-item"><span class="dslca-plugin-opts-list-title" contenteditable="true">Click to edit</span><a href="#" class="dslca-plugin-opts-list-delete-hook">delete</a></div>').appendTo(d);a(c)});jQuery(document).on("click",".dslca-plugin-opts-list-delete-hook",function(b){b.preventDefault();var c=jQuery(this).closest(".dslca-plugin-opts-list-wrap");var d=jQuery(this).closest(".dslca-plugin-opts-list-item");d.remove();a(c)});jQuery(document).on("blur",".dslca-plugin-opts-list-title",function(){var b=jQuery(this).closest(".dslca-plugin-opts-list-wrap");a(b)});jQuery(document).on("keypress",".dslca-plugin-opts-list-title",function(a){if(a.keyCode==13){jQuery(this).trigger("blur");a.preventDefault()}});jQuery(".activecampaign_form").submit(function(){var a=jQuery("#dslc_activecampaign_email").val();var b=jQuery("#dslc_activecampaign_name").val();jQuery.ajax({type:"POST",data:{email:a,name:b,security:dslcajax,action:"dslc_activecampaign"},url:ajaxurl})});if(jQuery(".activecampaign_form").length){window._show_thank_you=function(a,b){var c=document.getElementById("_form_"+a+"_"),d=c.getElementsByClassName("_form-thank-you")[0];c.getElementsByClassName("_form-content")[0].style.visibility="hidden";d.innerHTML=b;d.classList.add("add_thank_you")};window._show_error=function(a,b,c){var d=document.getElementById("_form_"+a+"_"),e=document.createElement("div"),f=d.getElementsByTagName("button")[0];e.innerHTML=b;e.className="_error-inner _form_error _no_arrow";var g=document.createElement("div");g.className="_form-inner";g.appendChild(e);f.parentNode.insertBefore(g,f);if(c){var h=document.createElement("div");h.className="_error-html";h.innerHTML=c;e.appendChild(h)}};window._load_script=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script"),e=false;d.type="text/javascript";d.src=a;if(b){d.onload=d.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState=="complete")){e=true;b()}}}c.appendChild(d)};(function(){var a=function(a){var b=document.cookie.match(new RegExp("(^|; )"+a+"=([^;]+)"));return b?b[2]:null};var b=function(a,b){var c=new Date;var d=c.getTime();var e=d+1e3*60*60*24*365;c.setTime(e);document.cookie=a+"="+b+"; expires="+c+";path=/"};var c=function(a,b,c){if(a.addEventListener){a.addEventListener(b,c)}else{var d=a["on"+b];a["on"+b]=function(){d.apply(this,arguments);c.apply(this,arguments)}}};var d=false;var e=document.getElementById("_form_11_");var f=e.querySelectorAll("input, select"),g=[],h=false;var i=function(){for(var a=0;a<g.length;a++){g[a].tip.parentNode.removeChild(g[a].tip)}g=[]};var j=function(a){for(var b=0;b<g.length;b++){if(g[b].elem===a){g[b].tip.parentNode.removeChild(g[b].tip);g.splice(b,1);return}}};var k=function(a,b){var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f={};if(a.type!="radio"&&a.type!="checkbox"){c.className="_error";d.className="_error-arrow";e.className="_error-inner";e.innerHTML=b;c.appendChild(d);c.appendChild(e);a.parentNode.appendChild(c)}else{c.className="_error-inner _no_arrow";c.innerHTML=b;a.parentNode.insertBefore(c,a);f.no_arrow=true}f.tip=c;f.elem=a;g.push(f);return f};var l=function(a){var b=a.elem.getBoundingClientRect();var c=document.documentElement,d=b.top-((window.pageYOffset||c.scrollTop)-(c.clientTop||0));if(d<40){a.tip.className=a.tip.className.replace(/ ?(_above|_below) ?/g,"")+" _below"}else{a.tip.className=a.tip.className.replace(/ ?(_above|_below) ?/g,"")+" _above"}};var m=function(){if(d)return;for(var a=0;a<g.length;a++){if(!g[a].no_arrow)l(g[a])}};var n=function(a,b){var c=null,d=a.value,e=true;b?j(a):false;if(a.type!="checkbox")a.className=a.className.replace(/ ?_has_error ?/g,"");if(a.getAttribute("required")!==null){if(d===undefined||d===null||d===""){a.className=a.className+" _has_error";e=false;c=k(a,"This field is required.")}}if(e&&a.name=="email"){if(!d.match(/^[\+_a-z0-9-'&=]+(\.[\+_a-z0-9-']+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$/i)){a.className=a.className+" _has_error";e=false;c=k(a,"Enter a valid email address.")}}c?l(c):false;return e};var o=function(a){return a.name=="email"||a.getAttribute("required")!==null||(a.className?/date_field/.test(a.className):false)};var p=function(a){var b=e.getElementsByClassName("_form_error")[0],d=true;b?b.parentNode.removeChild(b):false;if(!h){h=true;for(var g=0,j=f.length;g<j;g++){var k=f[g];if(o(k)){if(k.type=="text"){c(k,"input",function(){n(this,true)})}}}}i();for(var g=0,j=f.length;g<j;g++){var l=f[g];if(o(l)){n(l)?true:d=false}}if(!d&&a){a.preventDefault()}m();return d};c(window,"resize",m);c(window,"scroll",m);var q=function(a){a.preventDefault();if(p()){var b=serialize(document.getElementById("_form_11_"));_load_script("https://lumbermandesigns.activehosted.com/proc.php?"+b+"&jsonp=true")}return false};c(e,"submit",q);_load_script("//d3rxaij56vjege.cloudfront.net/form-serialize/0.3/serialize.min.js")})()}jQuery(document).on("click",".lc-toggle-extension",function(a){a.preventDefault();$extensionId=a.target.getAttribute("data-id");var b=jQuery(a.target).closest(".extension");if(b[0]!==undefined){b=b[0]}else{console.error("Can't find extension parent for the clicked ellement.");return false}var c=b.getAttribute("data-extension-status");b.setAttribute("data-extension-status","pending");jQuery.ajax({type:"POST",data:{security:dslcajax,action:"dslc-ajax-toggle-extension",extension:$extensionId},url:ajaxurl}).done(function(a){console.log("response:");console.log(a);if(a){b.setAttribute("data-extension-status",a)}else{b.setAttribute("data-extension-status",c)}}).fail(function(a){b.setAttribute("data-extension-status",c)})})});function dslc_clear_cache(a){a.preventDefault();jQuery(".dslc-clear-cache .dashicons").removeClass("dashicons-trash").addClass("dashicons-update dashicon-spin");jQuery.ajax({type:"POST",data:{security:dslcajax,action:"dslc_ajax_clear_cache"},url:ajaxurl}).done(function(){jQuery(".dslc-clear-cache").css("color","green");jQuery(".dslc-clear-cache").text("done");jQuery(".dslc-clear-cache").prepend('<span class="dashicons dashicons-yes"></span> ')})}