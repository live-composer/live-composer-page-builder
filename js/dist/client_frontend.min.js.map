{"version":3,"file":"client_frontend.min.js","mappings":"AAyBA","sources":["webpack://live-composer-page-builder/./js/src/client/frontend/index.js"],"sourcesContent":["/**\n * Table of Contents\n *\n * - dslc_responsive_classes\n * - dslc_init_accordion\n * - dslc_init_lightbox\n * - dslc_carousel ( Initializes carousels )\n * - dslc_bg_video ( Initiate row BG video )\n * - dslc_parallax\n * - dslc_masonry\n * - dslc_center\n * - dslc_tabs_generate_code\n * - dslc_accordion_generate_code\n * - dslc_tabs\n * - dslc_download_count_increment ( Increment download count )\n * - dslc_check_viewport ( Check if element in viewport )\n * - dslc_validate_comment_form\n * - dslc_social_share\n */\n\n/**\n * Responsive Classes\n *\n * We use it only in Responsive preview panel and for compatibility.\n */\nwindow.dslc_responsive_classes = ( force ) => {\n\n\tif ( force === undefined) force = false;\n\n\tvar windowWidth = jQuery(window).width();\n\tvar body = jQuery('body');\n\n\tif ( force == true || ( ! body.hasClass('dslc-res-disabled') && ! jQuery('.dslca-module-edit-options-tab-hook.dslca-active[data-section=\"responsive\"]').length ) ) {\n\n\t\tbody.removeClass( 'dslc-res-phone dslc-res-tablet dslc-res-smaller-monitor dslc-res-big' );\n\n\t\tif ( windowWidth >= 1024 && windowWidth < 1280 ) {\n\n\t\t\tbody.addClass( 'dslc-res-smaller-monitor' );\n\t\t} else if ( windowWidth >= 768 && windowWidth < 1024 ) {\n\n\t\t\tbody.addClass( 'dslc-res-tablet' );\n\t\t} else if ( windowWidth < 768 ) {\n\n\t\t\tbody.addClass( 'dslc-res-phone' );\n\t\t} else {\n\n\t\t\tbody.addClass( 'dslc-res-big' );\n\t\t}\n\t}\n}\n\n/**\n * Init Accordion\n */\nwindow.dslc_init_accordion = () => {\n\n\tjQuery('.dslc-accordion').each(function(){\n\n\t\tvar dslcAccordion = jQuery(this),\n\t\tdslcActiveIndex = dslcAccordion.data('open') - 1,\n\t\tdslcActive = jQuery( '.dslc-accordion-item:eq(' + dslcActiveIndex + ')', dslcAccordion ),\n\t\tdslcInactive = dslcActive.siblings('.dslc-accordion-item'),\n\t\tdslcAll = jQuery('.dslc-accordion-item', dslcAccordion);\n\n\t\tif ( dslcActiveIndex >= 0 ) {\n\n\t\t\tdslcActive.addClass('dslc-active');\n\t\t\tdslcInactive.addClass('dslc-inactive');\n\t\t\tjQuery('.dslc-accordion-content', dslcInactive).hide();\n\n\t\t\tif ( ! jQuery(\"body\").hasClass('dslca-enabled') ) {\n\t\t\t\tdslcInactive.find('.dslca-icon').removeClass('dslc-icon-minus').addClass('dslc-icon-plus');\n\t\t\t}\n\t\t} else {\n\n\t\t\tdslcAll.addClass('dslc-inactive');\n\t\t\tjQuery('.dslc-accordion-content', dslcAll).hide();\n\n\t\t\tif ( ! jQuery(\"body\").hasClass('dslca-enabled') ) {\n\t\t\t\tdslcAll.find('.dslca-icon').removeClass('dslc-icon-minus').addClass('dslc-icon-plus');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Init Lightbox\n */\nwindow.dslc_init_lightbox = () => {\n\n\tvar type;\n\n\tjQuery('.dslc-lightbox-image').each(function(){\n\n        // Default type\n        type = 'image';\n\n        // Detect iframe (vimeo)\n        const url = jQuery(this).attr('href');\n        const parsedUrl = new URL(url);\n        if (parsedUrl.hostname === 'vimeo.com') {\n            type = 'iframe';\n        }\n\n        jQuery(this).magnificPopup({\n            type: type,\n            image: {\n                titleSrc: function(item) {\n\n                    var caption = '';\n                    var dataCaption = item.el.attr('data-caption');\n                    var titleAttr = item.el.attr('title');\n\n                    if (typeof dataCaption !== \"undefined\") {\n                        caption = jQuery('<small></small>')\n                            .text(dataCaption)\n                            .prop('outerHTML');\n                    }\n\n                    var title = jQuery('<span></span>')\n                        .text(titleAttr)\n                        .prop('outerHTML');\n\n                    return title + caption;\n                }\n            }\n        });\n    });\n\n\tjQuery( '.dslc-lightbox-gallery' ).each(function(){\n\t\tjQuery(this).magnificPopup({\n\t\t\tdelegate : 'a',\n\t\t\ttype:'image',\n\t\t\tgallery:{\n\t\t\t\tenabled: true\n\t\t\t},\n\t\t\timage: {\n\t\t\t\ttitleSrc: function(item) {\n\t\t\t\t\tvar caption = '';\n\t\t\t\t\tif ( typeof item.el.attr('data-caption') !== \"undefined\" ) {\n\t\t\t\t\t\tcaption = jQuery('<small></small>').text(item.el.attr('data-caption'))[0].outerHTML;\n\t\t\t\t\t}\n\t\t\t\t\tvar title = jQuery('<span></span>').text(item.el.attr('title')).html();\n\t\t\t\t\treturn title + caption;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Init carousels\n */\nwindow.dslc_carousel = () => {\n\n\t// Loop through each carousel\n\tjQuery( '.dslc-carousel, .dslc-slider' ).each( function(el) {\n\n\t\t// Variables\n\t\tvar carousel, container, defSettings, usrSettings, settings;\n\n\t\t// Elements\n\t\tcarousel = jQuery( this );\n\t\tcontainer = carousel.closest( '.dslc-module-front' );\n\n\t\tcontainer.imagesLoaded( function(){\n\n\t\t\tif ( container.closest('.dslc-modules-section').hasClass('dslc-no-columns-spacing') ) {\n\n\t\t\t\tvar margin = 0;\n\t\t\t} else {\n\n\t\t\t\tvar margin = ( container.width() / 100 * 2.12766 ) / 2;\n\t\t\t}\n\n\t\t\tif ( carousel.hasClass('dslc-carousel') ) {\n\n\t\t\t\tcarousel.find('.dslc-col').css({ 'margin-left' : margin, 'margin-right' : margin });\n\t\t\t\tcarousel.css({ 'margin-left' : margin * -1, 'width' : carousel.width() + margin * 2 });\n\t\t\t}\n\n\t\t\t// Default settings\n\t\t\tdefSettings = {\n\t\t\t\titems : 4,\n\t\t\t\tpagination : true,\n\t\t\t\tsingleItem : false,\n\t\t\t\titemsScaleUp : false,\n\t\t\t\tslideSpeed : 200,\n\t\t\t\tpaginationSpeed : 800,\n\t\t\t\trewindSpeed : 1000,\n\t\t\t\tautoPlay : false,\n\t\t\t\tstopOnHover : false,\n\t\t\t\tlazyLoad : false,\n\t\t\t\tlazyFollow : true,\n\t\t\t\tautoHeight : false,\n\t\t\t\tmouseDrag : true,\n\t\t\t\ttouchDrag : true,\n\t\t\t\taddClassActive : true,\n\t\t\t\ttransitionStyle : 'fade',\n\t\t\t\tscrollPerPage : true\n\t\t\t};\n\n\t\t\t// Custom Settings\n\t\t\tusrSettings = {\n\t\t\t\titems : carousel.data( 'columns' ),\n\t\t\t\tpagination : carousel.data( 'pagination' ),\n\t\t\t\titemsScaleUp : carousel.data( 'scale-up' ),\n\t\t\t\tslideSpeed : carousel.data( 'slide-speed' ),\n\t\t\t\tpaginationSpeed : carousel.data( 'pagination-speed' ),\n\t\t\t\trewindSpeed : carousel.data( 'rewind-speed' ),\n\t\t\t\tautoPlay : carousel.data( 'autoplay' ),\n\t\t\t\tstopOnHover : carousel.data( 'stop-on-hover' ),\n\t\t\t\tlazyLoad : carousel.data( 'lazy-load' ),\n\t\t\t\tlazyFollow : carousel.data( 'lazy-follow' ),\n\t\t\t\tautoHeight : carousel.data( 'flexible-height' ),\n\t\t\t\tmouseDrag : carousel.data( 'mouse-drag' ),\n\t\t\t\ttouchDrag : carousel.data( 'touch-drag' ),\n\t\t\t\taddClassActive : carousel.data( 'active-class' ),\n\t\t\t\ttransitionStyle : carousel.data( 'animation' ),\n\t\t\t\tscrollPerPage : carousel.data( 'scroll-per-page' )\n\t\t\t};\n\n\t\t\t// Merge default and custom settings\n\t\t\tsettings = jQuery.extend( {}, defSettings, usrSettings );\n\n\t\t\t// If it's a slider set singleItem to true\n\t\t\tif ( carousel.hasClass( 'dslc-slider' ) || settings.items == 1 ) {\n\n\t\t\t\tsettings.singleItem = true;\n\t\t\t}\n\n\t\t\t// If autoplay is 0 set to false\n\t\t\tif ( settings.autoPlay == 0 ) {\n\n\t\t\t\tsettings.autoPlay = false;\n\t\t\t}\n\n\t\t\t// Initialize\n\t\t\tcarousel.owlCarousel({\n\n\t\t\t\titems : settings.items,\n\t\t\t\tpagination : settings.pagination,\n\t\t\t\tsingleItem : settings.singleItem,\n\t\t\t\titemsScaleUp : settings.itemsScaleUp,\n\t\t\t\tslideSpeed : settings.slideSpeed,\n\t\t\t\tpaginationSpeed : settings.paginationSpeed,\n\t\t\t\trewindSpeed : settings.rewindSpeed,\n\t\t\t\tautoPlay : settings.autoPlay,\n\t\t\t\tstopOnHover : settings.stopOnHover,\n\t\t\t\tlazyLoad : settings.lazyLoad,\n\t\t\t\tlazyFollow : settings.lazyFollow,\n\t\t\t\tmouseDrag : settings.mouseDrag,\n\t\t\t\ttouchDrag : settings.touchDrag,\n\t\t\t\tscrollPerPage : settings.scrollPerPage,\n\t\t\t\ttransitionStyle : settings.transitionStyle,\n\t\t\t\tautoHeight : settings.autoHeight,\n\t\t\t\titemsDesktop : false,\n\t\t\t\titemsDesktopSmall : false,\n\t\t\t\titemsTablet : false,\n\t\t\t\titemsMobile : [766,1],\n\t\t\t\tafterInit: function() {\n\n\t\t\t\t\tcarousel.prev( '.dslc-loader' ).remove();\n\t\t\t\t\tcarousel.css({\n\t\t\t\t\t\topacity : 1,\n\t\t\t\t\t\tmaxHeight : 'none'\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tafterAction : function(){\n\n\t\t\t\t\tvar visible_items = this.owl.visibleItems;\n\t\t\t\t\tcarousel.find('.dslc-carousel-item-visible').removeClass('dslc-carousel-item-visible');\n\t\t\t\t\tcarousel.find('.owl-item').filter(function(index) {\n\t\t\t\t\t\treturn visible_items.indexOf(index) > -1;\n\t\t\t\t\t}).addClass('dslc-carousel-item-visible');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Previous\n\t\t\tjQuery( '.dslc-carousel-nav-next', container ).click( function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcarousel.data( 'owlCarousel' ).next();\n\t\t\t});\n\n\t\t\t// Next\n\t\t\tjQuery( '.dslc-carousel-nav-prev', container ).click( function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcarousel.data( 'owlCarousel' ).prev();\n\t\t\t});\n\t\t}); // End .imagesLoaded\n\t});\n}\n\n/**\n * Fix responsivness of carousel\n */\nwindow.dslc_carousel_responsive = () => {\n\n\t// Loop through each carousel\n\tjQuery( '.dslc-carousel' ).each( function() {\n\n\t\t// Variables\n\t\tvar carousel, container;\n\n\t\t// Elements\n\t\tcarousel = jQuery( this );\n\t\tcontainer = carousel.closest( '.dslc-module-front' );\n\n\t\tcarousel.css({ 'margin-left' : 0, 'width' : 'auto' });\n\n\t\tif ( container.closest('.dslc-modules-section').hasClass('dslc-no-columns-spacing') ) {\n\n\t\t\tvar margin = 0;\n\t\t} else {\n\n\t\t\tvar margin = ( container.width() / 100 * 2.12766 ) / 2;\n\t\t}\n\n\t\tif ( carousel.hasClass('dslc-carousel') ) {\n\n\t\t\tcarousel.find('.dslc-col').css({ 'margin-left' : margin, 'margin-right' : margin });\n\t\t\tcarousel.css({ 'margin-left' : margin * -1, 'width' : carousel.width() + margin * 2 });\n\t\t}\n\t});\n}\n\n/**\n * Initiate Video\n */\nwindow.dslc_bg_video = () => {\n\n\tjQuery('.dslc-bg-video').each(function(){\n\n\t\tif ( ! jQuery(this).find( 'video' ).length ) {\n\n\t\t\tjQuery(this).css({ opacity : 1 });\n\t\t}\n\t});\n\n\tjQuery('.dslc-bg-video video').mediaelementplayer({\n\t\tloop: true,\n\t\tpauseOtherPlayers: false,\n\t\tsuccess: function(mediaElement, domObject) {\n\n\t\t\tmediaElement.addEventListener('loadeddata', function (e) {\n\t\t\t\tjQuery(domObject).closest('.dslc-bg-video').animate({ opacity : 1 }, 400);\n\t\t\t});\n\n\t\t\tmediaElement.play();\n\t\t}\n\t});\n}\n\n/**\n * Initiate Parallax\n */\nwindow.dslc_parallax = () => {\n\n\tjQuery('.dslc-init-parallax').each(function(){\n\t\tvar $paralaxEl = jQuery(this);\n\t\t$paralaxEl.imagesLoaded( { background: true }, function(){\n\t\t\tvar dslcSpeed = 4,\n\t\t\tbgPosition = $paralaxEl.css( 'background-position' ).split( ' ' ),\n\t\t\tbgPositionHor = bgPosition[0],\n\t\t\tdslcPos = bgPositionHor + \" \" + ( -1 * ( window.pageYOffset - $paralaxEl.offset().top ) / dslcSpeed ) + \"px\";\n\n\t\t\t$paralaxEl.css({ backgroundPosition : dslcPos });\n\t\t});\n\t});\n\n\twindow.onscroll = function() {\n\n\t\tjQuery('.dslc-init-parallax').each(function(){\n\n\t\t\tvar dslcSpeed = 4,\n\t\t\tbgPosition = jQuery(this).css( 'background-position' ).split( ' ' ),\n\t\t\tbgPositionHor = bgPosition[0],\n\t\t\tdslcPos = bgPositionHor + \" \" + ( -1 * ( window.pageYOffset - jQuery(this).offset().top ) / dslcSpeed ) + \"px\";\n\n\t\t\tjQuery(this).css({ backgroundPosition : dslcPos });\n\t\t});\n\t}\n}\n\n/**\n * Initiate Masonry\n */\nwindow.dslc_masonry = ( dslcWrapper, dslcAnimate ) => {\n\n\tdslcWrapper = typeof dslcWrapper !== 'undefined' ? dslcWrapper : jQuery('body');\n\tdslcAnimate = typeof dslcAnimate !== 'undefined' ? dslcAnimate : false;\n\n\tjQuery('.dslc-init-masonry', dslcWrapper).each(function(){\n\n\t\t\tvar dslcContainer, dslcSelector, dslcItems, dslcItemWidth, dslcContainerWidth, dslcGutterWidth;\n\n\t\t\tif ( jQuery(this).find('.dslc-posts-inner').length ) {\n\n\t\t\t\tdslcContainer = jQuery(this).find('.dslc-posts-inner');\n\t\t\t} else {\n\n\t\t\t\tdslcContainer = jQuery(this);\n\t\t\t}\n\n\t\t\tdslcSelector = '.dslc-masonry-item';\n\t\t\tdslcItemWidth = jQuery(dslcSelector, dslcContainer).width();\n\t\t\tdslcContainerWidth = jQuery(dslcContainer).width();\n\n\t\t\tif ( jQuery(this).closest('.dslc-modules-section').hasClass('dslc-no-columns-spacing') ) {\n\n\t\t\t\tdslcGutterWidth = 0;\n\t\t\t} else {\n\n\t\t\t\tdslcGutterWidth = dslcContainerWidth / 100 * 2.05;\n\t\t\t}\n\n\t\t\tif ( dslcContainer.data('masonry') ) {\n\n\t\t\t\tjQuery(dslcContainer).imagesLoaded(function() {\n\n\t\t\t\t\tjQuery(dslcContainer).masonry('destroy').masonry({\n\t\t\t\t\t\tgutter : dslcGutterWidth,\n\t\t\t\t\t\titemSelector : dslcSelector\n\t\t\t\t\t});\n\n\t\t\t\t\tjQuery( dslcContainer ).find( '.dslc-post:not(.dslc-masonry-item)' ).hide();\n\n\t\t\t\t\tif ( dslcAnimate ) {\n\n\t\t\t\t\t\tjQuery(dslcSelector, dslcContainer).css({ 'scale' : '0.2'}).animate({\n\t\t\t\t\t\t\t'scale' : '1'\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\tjQuery(dslcSelector).css({ marginRight : 0 });\n\n\t\t\t\tjQuery(dslcContainer).imagesLoaded(function() {\n\n\t\t\t\t\tjQuery(dslcContainer).masonry({\n\t\t\t\t\t\tgutter : dslcGutterWidth,\n\t\t\t\t\t\titemSelector : dslcSelector\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t}); // End each().\n}\n\n/**\n * Generate Tabs Code\n */\nwindow.dslc_tabs_generate_code = ( dslcTabs ) => {\n\tvar dslcTabsContainer = dslcTabs.closest('.dslc-module-front');\n\n\tdslcTabsNav = jQuery('.dslc-tabs-nav', dslcTabs);\n\tdslcTabsContent = jQuery('.dslc-tabs-content', dslcTabs);\n\tdslcTabContent = jQuery('.dslc-tabs-tab-content', dslcTabs);\n\n\tvar dslcTabsNavVal = '';\n\tvar dslcTabsContentVal = '';\n\tvar dslcTabsNavValCount = 0;\n\tvar dslcTabsContentValCount = 0;\n\n\tjQuery( '.dslc-tabs-nav-hook', dslcTabsNav ).each(function(){\n\n\t\tdslcTabsNavValCount++;\n\n\t\tif ( dslcTabsNavValCount > 1 ) {\n\n\t\t\tdslcTabsNavVal += ' (dslc_sep) ';\n\t\t}\n\n\t\tdslcTabsNavVal += jQuery(this).find('.dslc-tabs-nav-hook-title').text();\n\t});\n\n\tdslcTabContent.each(function(){\n\n\t\tdslcTabsContentValCount++;\n\n\t\tif ( dslcTabsContentValCount > 1 ) {\n\n\t\t\tdslcTabsContentVal += ' (dslc_sep) ';\n\t\t}\n\n\t\tdslcTabsContentVal += jQuery(this).find('.dslca-tab-plain-content').val();\n\t});\n\n\tdslcTabsContentVal = dslcTabsContentVal.replace(/<textarea/g, '<lctextarea').replace(/<\\/textarea/g, '</lctextarea');\n\n\tjQuery('.dslca-module-option-front[data-id=\"tabs_nav\"]', dslcTabsContainer).val( dslcTabsNavVal );\n\tjQuery('.dslca-module-option-front[data-id=\"tabs_content\"]', dslcTabsContainer).val( dslcTabsContentVal );\n\tparent.LiveComposer.Builder.Actions.optionsChanged();\n}\n\n/**\n * Generate Code for the New Accordion Tab\n */\nwindow.dslc_accordion_generate_code = ( dslcAccordion ) => {\n\tvar dslcModule = dslcAccordion.closest('.dslc-module-front'),\n\tdslcAccordionCount = 0,\n\tdslcAccordionTitleVal = '',\n\tdslcAccordionContentVal = '';\n\n\tjQuery( '.dslc-accordion-item', dslcAccordion ).each(function(){\n\t\tdslcAccordionCount++;\n\t\tif ( dslcAccordionCount > 1 ) {\n\n\t\t\tdslcAccordionTitleVal += ' (dslc_sep) ';\n\t\t\tdslcAccordionContentVal += ' (dslc_sep) ';\n\t\t}\n\t\tdslcAccordionTitleVal += jQuery(this).find('.dslc-accordion-title').text();\n\t\tdslcAccordionContentVal += jQuery(this).find('.dslc-accordion-content').find('.dslca-accordion-plain-content').val();\n\t});\n\n\tdslcAccordionContentVal = dslcAccordionContentVal.replace(/<textarea/g, '<lctextarea').replace(/<\\/textarea/g, '</lctextarea');\n\n\tjQuery('.dslca-module-option-front[data-id=\"accordion_nav\"]', dslcModule).val( dslcAccordionTitleVal );\n\tjQuery('.dslca-module-option-front[data-id=\"accordion_content\"]', dslcModule).val( dslcAccordionContentVal );\n\n\tparent.LiveComposer.Builder.Actions.optionsChanged();\n}\n\nfunction dslc_on_tab_add( event ) {\n\n\tvar dslcTabs = jQuery(event.target).closest('.dslc-tabs'),\n\tdslcTabsNavLast = jQuery('.dslc-tabs-nav .dslc-tabs-nav-hook:last', dslcTabs),\n\tdslcTabContentLast = jQuery('.dslc-tabs-tab-content:last', dslcTabs),\n\tnumberOfTabs = jQuery('.dslc-tabs-nav .dslc-tabs-nav-hook', dslcTabs).length;\n\n\tdslcTabsNavLast.after('<span class=\"dslc-tabs-nav-hook\"><span class=\"dslc-tabs-nav-hook-title\" contenteditable=\"true\">Click to edit title</span><span class=\"dslca-delete-tab-hook\"><span class=\"dslca-icon dslc-icon-remove\"></span></span></span>');\n\tdslcTabContentLast.after('<div class=\"dslc-tabs-tab-content\"><div class=\"dslca-editable-content\" data-edit-id=\"' + numberOfTabs +'\" data-id=\"' + numberOfTabs +'\">This is just placeholder text.</div><textarea class=\"dslca-tab-plain-content\" data-edit-id=\"' + numberOfTabs +'\" data-id=\"' + numberOfTabs +'\">This is just placeholder text.</textarea><div class=\"dslca-wysiwyg-actions-edit\"><span class=\"dslca-wysiwyg-actions-edit-hook\" data-event=\"wysiwyg-edit\" data-id-to-edit=\"' + numberOfTabs +'\">Open in WP Editor</span></div></div>');\n\n\tjQuery('.dslc-tabs-nav-hook:last', dslcTabs).click();\n\n\tdslc_tabs_generate_code( dslcTabs );\n\n\t// openModuleForEditing( this[0] );\n\tif ( ! jQuery(dslcTabs[0]).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\t\tjQuery(dslcTabs[0]).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t}\n\n\t// dslc_tabs()\n}\n\nfunction dslc_on_tab_delete( event ) {\n\tvar dslcTabs = jQuery(event.target).closest('.dslc-tabs');\n\tvar dslcTabHook = jQuery(event.target).closest('.dslc-tabs-nav-hook');\n\tvar dslcTabIndex = dslcTabHook.index();\n\tvar dslcTabContent = jQuery('.dslc-tabs-tab-content', dslcTabs).eq( dslcTabIndex );\n\n\tif ( jQuery( '.dslc-tabs-nav .dslc-tabs-nav-hook', dslcTabs ).length > 1 ) {\n\n\t\tdslcTabHook.remove();\n\t\tdslcTabContent.remove();\n\n\t\tif ( ! jQuery( '.dslc-tabs-tab-content.dslc-active', dslcTabs ).length ) {\n\t\t\tjQuery( '.dslc-tabs-nav-hook:first', dslcTabs ).trigger('click');\n\t\t}\n\n\t\tdslc_tabs_generate_code( dslcTabs );\n\t}\n\n\t// openModuleForEditing( this[0] );\n\t// Otherwise won't save changes.\n\tif ( ! jQuery(dslcTabs[0]).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\t\tjQuery(dslcTabs[0]).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t}\n\n\tevent.stopPropagation()\n}\n\n\nfunction dslc_on_tab_nav( event ) {\n\tdslcTabs = jQuery(event.target).closest('.dslc-tabs');\n\tdslcTabsNav = jQuery('.dslc-tabs-nav', dslcTabs);\n\tdslcTabsContent = jQuery('.dslc-tabs-content', dslcTabs);\n\tdslcTabContent = jQuery('.dslc-tabs-tab-content', dslcTabs);\n\tdslcTabIndex = jQuery(event.currentTarget).index();\n\n\t// Tabs nav\n\tjQuery('.dslc-tabs-nav-hook.dslc-active', dslcTabs).removeClass('dslc-active');\n\tjQuery(event.currentTarget).addClass('dslc-active');\n\n\t// Tabs content\n\n\tif ( jQuery( '.dslc-tabs-tab-content.dslc-active', dslcTabs ).length ) {\n\t\tjQuery('.dslc-tabs-tab-content.dslc-active', dslcTabs).animate({\n\t\t\topacity : 0\n\t\t}, 250, function(){\n\t\t\tjQuery(this).removeClass('dslc-active');\n\t\t\tdslcTabContent.eq(dslcTabIndex).css({ opacity : 0 }).addClass('dslc-active').show().animate({\n\t\t\t\topacity : 1\n\t\t\t}, 250);\n\t\t});\n\t} else {\n\t\tdslcTabContent.eq(dslcTabIndex).css({ opacity : 0 }).addClass('dslc-active').show().animate({\n\t\t\topacity : 1\n\t\t}, 250);\n\t}\n\n\t// event.stopPropagation()\n}\n\n/**\n * Initiate Tabs\n */\nwindow.dslc_tabs = () => {\n\tvar dslcTabs, dslcTabsNav, dslcTabsContent, dslcTabContent;\n\n\tjQuery('.dslc-tabs').each(function(){\n\n\t\tdslcTabs = jQuery(this);\n\t\tdslcTabsNav = jQuery('.dslc-tabs-nav', dslcTabs);\n\t\tdslcTabsContent = jQuery('.dslc-tabs-content', dslcTabs);\n\t\tdslcTabContent = jQuery('.dslc-tabs-tab-content', dslcTabs);\n\n\t\tdslcTabContent.eq(0).addClass('dslc-active');\n\t\tjQuery('.dslc-tabs-nav-hook', dslcTabsNav ).eq(0).addClass('dslc-active');\n\n\t\t\n\t});\n}\n\n// $(staticAncestors).on(eventName, dynamicChild, function() {\n// jQuery(document).ready(function($) {\n\t\t/**\n\t\t* Tabs â€“ Tabs editing controls\n\t\t*/\n\t\tjQuery(document).on( 'click', '.dslca-add-new-tab-hook', (event) => dslc_on_tab_add(event));\n\t\tjQuery(document).on( 'click', '.dslca-delete-tab-hook', (event) => dslc_on_tab_delete(event));\n\t\tjQuery(document).on( 'click', '.dslc-tabs-nav-hook', (event) => dslc_on_tab_nav( event ));\n\n\t\tjQuery(document).on('blur paste', '.dslc-tabs-nav-hook-title[contenteditable], .dslc-tabs-tab-content[contenteditable]', function(event) {\n\t\t\tdslc_tabs_generate_code( jQuery(this).closest('.dslc-tabs') );\n\t\t}).on('focus', '.dslc-tabs-nav-hook-title[contenteditable], .dslc-tabs-tab-content[contenteditable]', function(event) {\n\t\t\tif ( ! jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\t\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t\t\t}\n\t\t});\n\n// });\n/**\n * Increment download count\n */\n\nwindow.dslc_download_count_increment = ( post_id ) => {\n\n\tjQuery.post(\n\n\t\tDSLCAjax.ajaxurl,\n\t\t{\n\t\t\taction : 'dslc-download-count-increment',\n\t\t\tdslc_post_id : post_id\n\t\t},\n\t\tfunction( response ) { }\n\t);\n}\n\n/**\n * Check if element in viewport\n */\nwindow.dslc_check_viewport = () => {\n\n\tvar isIE = /*@cc_on!@*/false || !!document.documentMode;\n\n\tif ( !isIE ) {\n\n\t\tjQuery('.dslc-in-viewport-check:in-viewport:not(.dslc-in-viewport)').each(function(){\n\n\t\t\tvar _this = jQuery(this);\n\t\t\tvar anim = _this.data('dslc-anim');\n\t\t\tvar animDuration = parseInt( _this.data('dslc-anim-duration') ) / 1000;\n\n\t\t\tvar anim_speed = animDuration + 's';\n\t\t\tif ( jQuery(window).width() < 768 ) {\n\n\t\t\t\tanim_speed = '0s';\n\t\t\t}\n\n\t\t\tvar anim_delay = parseInt( _this.data('dslc-anim-delay') );\n\t\t\tvar anim_easing =  _this.data('dslc-anim-easing');\n\t\t\tvar anim_params = anim + ' ' + anim_speed + ' ' + anim_easing + ' forwards';\n\n\t\t\tjQuery(this).addClass('dslc-in-viewport');\n\n\t\t\tif ( anim_delay > 0 ) {\n\n\t\t\t\tsetTimeout( function(){\n\t\t\t\t\t_this.css({\n\t\t\t\t\t\t'-webkit-animation': anim_params,\n\t\t\t\t\t\t'-moz-animation': anim_params,\n\t\t\t\t\t\t'animation': anim_params\n\t\t\t\t\t});\n\t\t\t\t}, anim_delay );\n\t\t\t} else {\n\n\t\t\t\tjQuery(this).css({\n\t\t\t\t\t'-webkit-animation': anim_params,\n\t\t\t\t\t'-moz-animation': anim_params,\n\t\t\t\t\t'animation': anim_params\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\n\t\tjQuery('.dslc-in-viewport-check').css( 'opacity', 1 );\n\t}\n}\n\n/**\n * Animation of elements on hover ( posts modules )\n */\nwindow.dslc_el_anim_hover = () => {\n\n\tjQuery('.dslc-on-hover-anim-target').each(function(){\n\n\t\tvar anim_speed = parseInt( jQuery(this).data('dslc-anim-speed') ) / 1000;\n\t\tvar anim_value = 'all ' + anim_speed + 's ease-out';\n\n\t\tjQuery(this).css({\n\t\t\t'-webkit-transition' : anim_value,\n\t\t\t'-moz-transition' : anim_value,\n\t\t\t'transition' : anim_value\n\t\t});\n\t});\n}\n\n/**\n * Progress Bar - Check viewport and animate\n */\nwindow.dslc_check_progress_bar_viewport = () => {\n\n\tjQuery('.dslc-progress-bar-animated:in-viewport:not(.dslc-progress-bar-in-viewport)').each(function(){\n\n\t\tvar dslcWrapper = jQuery(this),\n\t\tdslcEl = dslcWrapper.find('.dslc-progress-bar-loader-inner'),\n\t\tdslcVal = dslcEl.data('amount') + '%',\n\t\tdslcSpeed = dslcEl.data('speed');\n\n\t\tdslcWrapper.addClass('dslc-progress-bar-in-viewport');\n\n\t\tdslcEl.css({ width : 0, opacity : 1 }).animate({ width : dslcVal }, dslcSpeed );\n\t});\n}\n\n/**\n * Validate Comment Form\n */\nwindow.dslc_validate_comment_form = ( commentForm ) => {\n\n\tvar commentName = commentForm.find('#author'),\n\tcommentEmail = commentForm.find('#email'),\n\tcommentWebsite = commentForm.find('#url'),\n\tcommentMessage = commentForm.find('#comment'),\n\tcommentStatus = true;\n\n\t// Name\n\tif ( commentName.length && commentName.val().length == 0 ) {\n\n\t\tcommentName.css({ borderColor : '#e55f5f' });\n\t\tcommentStatus = false;\n\t} else {\n\n\t\tcommentName.attr( 'style', '' );\n\t}\n\n\t// Email\n\tif ( commentEmail.length && ( commentEmail.val().length == 0 || commentEmail.val().indexOf('@') === -1 ) ) {\n\n\t\tcommentEmail.css({ borderColor : '#e55f5f' });\n\t\tcommentStatus = false;\n\t} else {\n\n\t\tcommentEmail.attr( 'style', '' );\n\t}\n\n\t// Message\n\tif ( commentMessage.val().length == 0 ) {\n\n\t\tcommentMessage.css({ borderColor : '#e55f5f' });\n\t\tcommentStatus = false;\n\t} else {\n\n\t\tcommentMessage.attr( 'style', '' );\n\t}\n\n\treturn commentStatus;\n}\n\n/**\n * Social Sharing\n */\nwindow.dslc_social_share = ( width, height, url ) => {\n\n\tvar leftPosition, topPosition, u, t;\n\t//Allow for borders.\n\tleftPosition = (window.screen.width / 2) - ((width / 2) + 10);\n\t//Allow for title and status bars.\n\ttopPosition = (window.screen.height / 2) - ((height / 2) + 50);\n\tvar windowFeatures = \"status=no,height=\" + height + \",width=\" + width + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\tu=location.href;\n\tt=document.title;\n\twindow.open(url,'sharer', windowFeatures);\n\treturn false;\n}\n\n/**\n * Sticky Row\n */\nwindow.dslc_sticky_row = () => {\n\n\tvar row = jQuery('body .dslc-modules-section');\n\n\tif ( row.hasClass('dslc-sticky-row') && ! jQuery('body').hasClass('dslca-enabled') ) {\n\n\t\tvar rowSticky = jQuery('body .dslc-modules-section.dslc-sticky-row');\n\t\tvar $headers = jQuery(\".dslc-sticky-row\");\n\n\t\t$headers.each(function(index, el) {\n\t\t\tvar $curHeader = jQuery($headers).eq(index);\n\t\t\tvar curHeight = $curHeader.outerHeight();\n\n\t\t\tjQuery(el).wrap('<div class=\"dslc-modules-section-placeholder\"></div>').parent().height(jQuery(el).outerHeight());\n\t\t});\n\n\t\tvar rowSticky = jQuery('body .dslc-modules-section.dslc-sticky-row');\n\t\tvar rowStickyPos = rowSticky.offset().top;\n\n\t\t// Account for Admin bar.\n\t\tif ( jQuery( '#wpadminbar' ).length ) {\n\t\t\trowStickyPos -= jQuery( '#wpadminbar' ).height();\n\t\t}\n\n\t\tvar headers = jQuery(\".dslc-sticky-row\");\n\n\t\tdocument.addEventListener( 'scroll', (evt) => {\n\t\t\tvar scrollTop = window.scrollY;\n\n\t\t\tif ( scrollTop < 50 || scrollTop % 10 === 0 ) {\n\t\t\t\tif ( scrollTop >= 0 ) {\n\t\t\t\t\theaders.each(function(index, el) {\n\t\t\t\t\t\tvar curHeader = jQuery(headers).eq(index);\n\t\t\t\t\t\tvar curTop = curHeader.offset().top;\n\t\t\t\t\t\tvar curHeight = curHeader.outerHeight();\n\n\t\t\t\t\t\t// Account for Admin bar.\n\t\t\t\t\t\tif ( jQuery( '#wpadminbar' ).length ) {\n\t\t\t\t\t\t\tcurTop -= jQuery( '#wpadminbar' ).height();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// scroll up\n\t\t\t\t\t\t// If windown scoling pos is bellow the element top coordinates.\n\t\t\t\t\t\tvar isRelative = ( scrollTop <= el.exTop );\n\n\t\t\t\t\t\t// scroll down\n\t\t\t\t\t\tvar isFixed = ( curTop <= scrollTop );\n\n\t\t\t\t\t\tvar position = \"fixed\";\n\t\t\t\t\t\tvar top = 0;\n\n\t\t\t\t\t\tif ( isRelative ) {\n\t\t\t\t\t\t\tposition = \"relative\";\n\t\t\t\t\t\t\ttop = 0;\n\n\t\t\t\t\t\t\tel.isFixed = false;\n\n\t\t\t\t\t\t\tel.classList.remove(\"dslc-sticky-section-fixed\");\n\t\t\t\t\t\t\tjQuery(el).closest('.dslc-modules-section-placeholder').height(jQuery(el).outerHeight());\n\t\t\t\t\t\t} else if ( isFixed ) {\n\t\t\t\t\t\t\tposition = \"fixed\";\n\t\t\t\t\t\t\tif ( 0 < index ) {\n\t\t\t\t\t\t\t\tfor ( var i = 0; i < index; i++ ) {\n\t\t\t\t\t\t\t\t\ttop += jQuery(headers).eq(i).outerHeight();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tscrollTop += curHeight;\n\n\t\t\t\t\t\t\tif ( ! el.isFixed ) {\n\t\t\t\t\t\t\t\tel.isFixed = true;\n\t\t\t\t\t\t\t\tel.exTop = curTop;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Account for Admin bar.\n\t\t\t\t\t\t\tif ( jQuery( '#wpadminbar' ).length ) {\n\t\t\t\t\t\t\t\ttop += 32;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tel.classList.add(\"dslc-sticky-section-fixed\");\n\t\t\t\t\t\t\tjQuery(el).closest('.dslc-modules-section-placeholder').height(jQuery(el).outerHeight());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjQuery(el).css({\n\t\t\t\t\t\t\tposition: position,\n\t\t\t\t\t\t\ttop: top + \"px\"\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\trowSticky.removeClass('dslc-sticky-section-fixed');\n\n\t\t\t\t\t// reset all\n\t\t\t\t\theaders.css({\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\ttop: \"0px\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, { capture: false, passive: true})\n\t}\n}\n\njQuery(document).ready(function($){\n\n\t// Fix issue - https://github.com/live-composer/live-composer-page-builder/issues/592\n\tvar viewport = document.querySelector(\"meta[name=viewport]\");\n\tviewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0');\n\n\tdslc_el_anim_hover();\n\tdslc_bg_video();\n\tdslc_tabs();\n\n\t// Load More Posts\n\tjQuery(document).on( 'click', '.dslc-pagination-load-more a', function(e){\n\n\t\te.preventDefault();\n\n\t\tif ( jQuery(this).parent().hasClass('dslc-active') ) {\n\n\t\t\tvar _this = jQuery(this),\n\t\t\tmodule = jQuery(this).closest('.dslc-module-front'),\n\t\t\tpagination = module.find('.dslc-pagination'),\n\t\t\tpostsContainer = module.find('.dslc-posts-inner'),\n\t\t\tmoduleID = module.attr('id'),\n\t\t\tpagLink = _this.attr('href'),\n\t\t\ttempHolder = module.find('.dslc-load-more-temp');\n\n\t\t\t// Validate same-origin\n\t\t\ttry {\n\t\t\t\tvar linkUrl = new URL(pagLink, window.location.href);\n\t\t\t\tif (linkUrl.origin !== window.location.origin) {\n\t\t\t\t\tconsole.error('Cross-origin not allowed');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tconsole.error('Invalid URL');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this.find('.dslc-icon').addClass('dslc-icon-spin');\n\n\t\t\ttempHolder.load( pagLink + ' #' + moduleID, function(){\n\n\t\t\t\tpostsContainer.append( '<div class=\"dslc-post-separator\"></div>' );\n\t\t\t\tpostsContainer.append( tempHolder.find('.dslc-posts-inner').html() );\n\n\t\t\t\tmodule.find('.dslc-pagination').html( tempHolder.find('.dslc-pagination').html() );\n\n\t\t\t\tpagination.replaceWith( tempHolder.find('.dslc-pagination') );\n\n\t\t\t\ttempHolder.html('');\n\n\t\t\t\tpostsContainer.imagesLoaded( function(){\n\t\t\t\t\tif ( module.find('.dslc-init-masonry').length ) {\n\t\t\t\t\t\tmodule.find('.dslc-init-masonry .dslc-posts-inner').masonry(\"reloadItems\").masonry();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\t// Comment Form Validation\n\tjQuery('.dslc-tp-comment-form form').submit(function(e){\n\n\t\tif ( ! dslc_validate_comment_form( jQuery(this) ) ) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\n\t/**\n\t * Mobile Nav\n\t */\n\tjQuery('.dslc-mobile-navigation select').change(function() {\n\t\twindow.location = jQuery(this).val();\n\t});\n\n\t// Close Notification\n\tjQuery(document).on( 'click', '.dslc-notification-close', function(e){\n\n\t\tjQuery(this).closest('.dslc-notification').slideUp(200, function(){\n\n\t\t\tjQuery(this).remove();\n\t\t});\n\t});\n\n\t/**\n\t * Filter\n\t */\n\tjQuery(document).on( 'click', '.dslc-post-filter', function(){\n\n\t\t// Get info.\n\t\tvar selectedFilterEl = jQuery(this);\n\t\tvar dslcContainer    = selectedFilterEl.closest('.dslc-module-front').find('.dslc-posts');\n\t\tvar dslcWrapper      = selectedFilterEl.closest('.dslc-module-front');\n\n\t\t// Filter posts according to selected filter.\n\t\tvar dslcCat = selectedFilterEl.data('filter-id');\n\t\tvar dslcFilterPosts    = jQuery(); // Empty jQuery object.\n\t\tvar dslcNotFilterPosts = jQuery();\n\n\t\tif ( dslcCat === 'show-all' ) {\n\n\t\t\tdslcFilterPosts    = dslcContainer.closest('.dslc-module-front').find('.dslc-post');\n\t\t\tdslcNotFilterPosts = jQuery(); // Empty jQuery object.\n\n\t\t} else {\n\n\t\t\tdslcFilterPosts    = dslcContainer.closest('.dslc-module-front').find('.dslc-post[data-cats*=\"' + dslcCat + '\"]');\n\t\t\tdslcNotFilterPosts = dslcContainer.closest('.dslc-module-front').find('.dslc-post:not([data-cats*=\"' + dslcCat + '\"])');\n\t\t}\n\n\t\t// Set active\n\t\tselectedFilterEl.removeClass('dslc-inactive').addClass('dslc-active').siblings('.dslc-active').removeClass('dslc-active').addClass('dslc-inactive');\n\n\t\tif ( dslcContainer.hasClass('dslc-init-grid' ) ) {\n\n\t\t\tdslcFilterPosts.stop().animate({\n\t\t\t\topacity : 1\n\t\t\t}, 300);\n\n\t\t\tdslcNotFilterPosts.stop().animate({\n\t\t\t\topacity : 0.3\n\t\t\t}, 300);\n\t\t} else {\n\n\t\t\t// Hide posts\n\t\t\tdslcNotFilterPosts.removeClass('dslc-masonry-item dslc-masonry-item-animate').css({ visibility : 'hidden' });\n\t\t\tdslcFilterPosts.addClass('dslc-masonry-item dslc-masonry-item-animate').css({ visibility : 'visible' }).show();\n\n\t\t\tdslc_masonry( dslcWrapper, true );\n\t\t}\n\t});\n\n\t/**\n\t * Download Count Hook\n\t */\n\tjQuery(document).on( 'click', '.dslc-download-count-hook', function(e) {\n\n\t\tdslc_download_count_increment( jQuery(this).data('post-id') );\n\t});\n\n\t/**\n\t * Notification Close\n\t */\n\tjQuery('.dslc-notification-box-has-timeout').each(function(){\n\n\t\tvar nBox = jQuery(this);\n\t\tnTimeout = 'none',\n\t\tmoduleID = nBox.closest('.dslc-module-front').data('module-id'),\n\t\tcookieID = 'nBox' + moduleID;\n\n\t\t// Check timeout\n\t\tif ( nBox.data('notification-timeout') ) {\n\n\t\t\tif ( Cookies.get(cookieID) == undefined ) {\n\t\t\t\tnBox.show();\n\t\t\t}\n\t\t}\n\t});\n\n\tjQuery(document).on( 'click', '.dslc-notification-box-close', function() {\n\n\t\tvar nBox = jQuery(this).closest('.dslc-notification-box'),\n\t\tnTimeout = 'none',\n\t\tmoduleID = nBox.closest('.dslc-module-front').data('module-id'),\n\t\tcookieID = 'nBox' + moduleID;\n\n\t\t// Check timeout\n\t\tif ( nBox.data('notification-timeout') ) {\n\n\t\t\tnTimeout = nBox.data('notification-timeout');\n\t\t}\n\n\t\t// Set cookie if timeout exists\n\t\tif ( nTimeout !== 'none' ) {\n\n\t\t\tCookies.set( cookieID, 'closed', { expires: nTimeout } );\n\t\t}\n\n\t\t// Close with animation\n\t\tnBox.animate({\n\t\t\topacity : 0\n\t\t}, 400, function(){\n\n\t\t\tjQuery(this).remove();\n\t\t});\n\t});\n\n\t/**\n\t * Lightbox\n\t */\n\tdslc_init_lightbox();\n\n\t/**\n\t * Accordion\n\t */\n\tdslc_init_accordion();\n\n\tjQuery(document).on( 'click', '.dslc-accordion-hook', function(){\n\n\t\tvar dslcActive = jQuery(this).closest('.dslc-accordion-item'),\n\t\tdslcInactive = dslcActive.siblings('.dslc-accordion-item');\n\n\t\tif ( dslcActive.hasClass('dslc-active') ) {\n\n\t\t\tif ( ! jQuery(\"body\").hasClass('dslca-enabled') ) {\n\t\t\t\tif ( dslcActive.find('.dslca-icon').hasClass('dslc-icon-minus') ) {\n\t\t\t\t\tdslcActive.find('.dslca-icon').removeClass('dslc-icon-minus').addClass('dslc-icon-plus');\n\t\t\t\t} else {\n\t\t\t\t\tdslcActive.find('.dslca-icon').removeClass('dslc-icon-plus').addClass('dslc-icon-minus');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdslcInactive = dslcActive;\n\t\t} else {\n\n\t\t\tdslcActive.removeClass('dslc-inactive').addClass('dslc-active');\n\n\t\t\tif ( ! jQuery(\"body\").hasClass('dslca-enabled') ) {\n\t\t\t\tif ( dslcActive.find('.dslca-icon').hasClass('dslc-icon-minus') ) {\n\t\t\t\t\tdslcActive.find('.dslca-icon').removeClass('dslc-icon-minus').addClass('dslc-icon-plus');\n\t\t\t\t} else {\n\t\t\t\t\tdslcActive.find('.dslca-icon').removeClass('dslc-icon-plus').addClass('dslc-icon-minus');\n\t\t\t\t\tdslcInactive.find('.dslca-icon').removeClass('dslc-icon-minus').addClass('dslc-icon-plus');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdslcInactive.removeClass('dslc-active').addClass('dslc-inactive');\n\n\t\tjQuery('.dslc-accordion-content', dslcActive).slideDown(300);\n\t\tjQuery('.dslc-accordion-content', dslcInactive).slideUp(300);\n\t});\n\n\tjQuery(document).on( 'click', '.dslca-add-accordion-hook', function(){\n\n\t\tvar dslcAccordion = jQuery(this).closest('.dslc-accordion'),\n\t\tdslcAccordionLast = jQuery('.dslc-accordion-item:last', dslcAccordion),\n\t\tdslcAccordionNew = dslcAccordionLast.clone().insertAfter(dslcAccordionLast);\n\t\tnumberOfTabs = jQuery('.dslc-accordion-item', dslcAccordion).length;\n\n\t\tjQuery('.dslc-accordion-title', dslcAccordionNew).html('CLICK TO EDIT');\n\t\tjQuery('.dslc-accordion-content', dslcAccordionNew).html('<div class=\"dslca-editable-content\" data-edit-id=\"' + numberOfTabs +'\">Placeholder content, click to edit. Lorem ipsum dolor sit amet, consectetur tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div><textarea class=\"dslca-accordion-plain-content\"></textarea><div class=\"dslca-wysiwyg-actions-edit\"><span class=\"dslca-wysiwyg-actions-edit-hook\" data-event=\"wysiwyg-edit\" data-id-to-edit=\"' + numberOfTabs +'\">Edit Content</span></div>');\n\t\tjQuery('.dslc-accordion-hook', dslcAccordionNew).click();\n\n\t\tdslc_accordion_generate_code( dslcAccordion );\n\n\t\tif ( ! jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t\t}\n\t});\n\n\tjQuery(document).on( 'click', '.dslca-delete-accordion-hook', function(e){\n\n\t\tvar dslcAccordion = jQuery(this).closest('.dslc-accordion'),\n\t\tdslcAccordionItem = jQuery(this).closest('.dslc-accordion-item');\n\n\t\tif ( ! jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t\t}\n\n\t\tif ( jQuery( '.dslc-accordion-item', dslcAccordion ).length > 1 ) {\n\n\t\t\tdslcAccordionItem.remove();\n\n\t\t\tif ( ! jQuery( '.dslc-accordion-item.dslc-active', dslcAccordion ).length ) {\n\t\t\t\tjQuery( '.dslc-accordion-hook:first', dslcAccordion ).trigger('click');\n\t\t\t}\n\n\t\t\tdslc_accordion_generate_code( dslcAccordion );\n\t\t} else {\n\n\t\t\talert( 'You can not delete the last remaining accordion item.' );\n\t\t}\n\n\t\te.stopPropagation()\n\t});\n\n\tjQuery(document).on( 'click', '.dslca-move-up-accordion-hook, .dslca-move-down-accordion-hook', function(e){\n\n\t\tvar dslcAccordion = jQuery(this).closest('.dslc-accordion'),\n\t\tdslcAccordionItem = jQuery(this).closest('.dslc-accordion-item'),\n\t\tdslcAccordionItemNext = dslcAccordionItem.next( '.dslc-accordion-item' ),\n\t\tdslcAccordionItemPrev = dslcAccordionItem.prev( '.dslc-accordion-item' );\n\n\t\tif ( ! jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t\t}\n\n\t\tif ( jQuery(this).hasClass('dslca-move-down-accordion-hook') ) {\n\n\t\t\tdslcAccordionItem.insertAfter( dslcAccordionItemNext );\n\t\t\tdslc_accordion_generate_code( dslcAccordion );\n\t\t} else {\n\n\t\t\tdslcAccordionItem.insertBefore( dslcAccordionItemPrev );\n\t\t\tdslc_accordion_generate_code( dslcAccordion );\n\t\t}\n\n\t\te.stopPropagation()\n\t});\n\n\tjQuery(document).on('blur paste keyup', '.dslc-accordion-title[contenteditable], .dslc-accordion-content[contenteditable]', function() {\n\n\t\tdslc_accordion_generate_code( jQuery(this).closest('.dslc-accordion') );\n\t}).on('focus', '.dslc-accordion-title[contenteditable], .dslc-accordion-content[contenteditable]', function() {\n\n\t\tif ( ! jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited') ) {\n\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslca-module-edit-hook').trigger('click');\n\t\t}\n\t});\n\n\tjQuery(document).on( 'click', '.dslc-trigger-lightbox-gallery', function(e){\n\n\t\te.preventDefault();\n\n\t\tif ( jQuery(this).closest('.dslc-post').length ) {\n\n\t\t\tjQuery(this).closest('.dslc-post').find('.dslc-lightbox-gallery a:first-child').trigger('click');\n\t\t} else if ( jQuery(this).closest('.dslc-col') ) {\n\n\t\t\tvar imageIndex = jQuery(this).closest('.dslc-col').index();\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslc-lightbox-gallery a:eq(' + imageIndex + ')').trigger('click');\n\t\t} else {\n\n\t\t\tjQuery(this).closest('.dslc-module-front').find('.dslc-lightbox-gallery a:first-child').trigger('click');\n\t\t}\n\t});\n\n\t/**\n\t * Header Fixed/Absolute - https://github.com/live-composer/live-composer-page-builder/issues/787\n\t */\n\n\tif ( jQuery( \"#dslc-header\" ).hasClass( \"dslc-header-extra-padding\" ) && !jQuery( \"body\" ).hasClass( \"dslca-enabled\" ) ) {\n\n\t\tvar headerHeight = jQuery( \"#dslc-header\" ).height();\n\t\tjQuery( \"#dslc-main .dslc-modules-section:first-child\" ).css({ paddingTop : headerHeight });\n\t}\n\n\n\t/**\n\t * Navigation Module\n\t */\n\t/* Disabled in favour of CSS hover.\n\tjQuery( '.dslc-navigation li' ).mouseenter(function(){\n\n\t\tvar subnav = jQuery(this).children('ul');\n\n\t\tif ( subnav.length ) {\n\n\t\t\tif ( jQuery(this).closest('.dslc-navigation').hasClass('dslc-navigation-sub-position-center') ) {\n\n\t\t\t\tvar parentWidth = jQuery(this).closest('li').width(),\n\t\t\t\tsubnavWidth = subnav.outerWidth(),\n\t\t\t\toffsetToCenter = parseInt( parentWidth ) / 2 - parseInt( subnavWidth ) / 2 + 'px';\n\n\t\t\t\tsubnav.css({ 'left' : offsetToCenter });\n\t\t\t}\n\n\t\t\t// Display child menu\n\t\t\tsubnav.css({ 'display' : 'block' });\n\n\t\t\tvar elOffsetLeft = subnav.offset().left;\n\t\t\tvar elWidth = subnav.outerWidth();\n\t\t\tvar docWidth = jQuery('body').width();\n\n\t\t\tif ( docWidth < ( elOffsetLeft + elWidth ) ) {\n\t\t\t\tsubnav.addClass('dslc-navigation-invert-subnav');\n\t\t\t}\n\n\t\t\t// Show child menu\n\t\t\tjQuery(this).children('ul').stop().animate({ opacity : 1 }, 300 );\n\t\t}\n\t}).mouseleave(function(){\n\n\t\tjQuery(this).children('ul').stop().animate({ opacity : 0 }, 300, function(){\n\n\t\t\tjQuery(this).css({ 'display' : 'none' }).children('ul').removeClass('dslc-navigation-invert-subnav');\n\t\t});\n\t});\n\t*/\n\tdslc_check_viewport();\n\tdslc_check_progress_bar_viewport();\n\n\tjQuery(document).on( 'scroll', function(){\n\n\t\tdslc_check_viewport();\n\t\tdslc_check_progress_bar_viewport();\n\t});\n\n\t/*\n\t * Keep the footer at the bottom of the page.\n\t */\n\n\tif ( jQuery(\"#dslc-footer\").hasClass(\"dslc-footer-pos-relative\") ) {\n\t\tvar pageHeight, footer, footerHeight, content, contentMinHeight;\n\n\t\tpageHeight = jQuery('body').height();\n\t\tfooter = jQuery('#dslc-footer');\n\t\tfooterHeight = jQuery(footer).height();\n\t\tcontent = jQuery('#dslc-content');\n\t\tcontentMinHeight = '100vh';\n\n\t\t// Account for Admin bar.\n\t\tif ( jQuery( '#wpadminbar' ).length ) {\n\t\t\tcontentMinHeight = '96.7vh';\n\t\t}\n\n\t\tif (pageHeight < jQuery(window).height()) {\n\n\t\t\tjQuery(footer).css({\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'bottom': '0',\n\t\t\t\t'width': '100%'\n\t\t\t});\n\t\t\tjQuery(content).css({\n\t\t\t\t'min-height': contentMinHeight,\n\t\t\t\t'padding-bottom': footerHeight + 'px'\n\t\t\t});\n\t\t}\n\t}\n});\n\njQuery(document).ready(function($){\n\tdslc_responsive_classes();\n\tdslc_carousel();\n\tdslc_masonry();\n\tdslc_parallax();\n\tdslc_init_lightbox();\n\twindow.dslc_sticky_row();\n\n\t// No need to wait for jQuery(window).load.\n\t// These functions will check if images loaded by itself.\n});\n\njQuery(window).resize(function(){\n\tdslc_responsive_classes();\n\tdslc_carousel_responsive();\n});\n"],"names":[],"sourceRoot":""}